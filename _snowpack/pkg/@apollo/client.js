export{s as gql}from"../common/index-416d977c.js";import{i as j,e as g,_ as c}from"../common/index-8ed85517.js";export{A as ApolloClient,a as ApolloLink,I as InMemoryCache,c as createHttpLink}from"../common/index-8ed85517.js";import{r as u}from"../common/index-927aee77.js";import{g as d,Q as k}from"../common/useMutation-3f0b9757.js";export{u as useMutation}from"../common/useMutation-3f0b9757.js";import"../common/blockString-d58f1b60.js";import"../common/_commonjsHelpers-0597c316.js";var y=function(o){var r=o.client,e=o.children,i=d();return u.createElement(i.Consumer,null,function(n){return n===void 0&&(n={}),r&&n.client!==r&&(n=Object.assign({},n,{client:r})),j(n.client,28),u.createElement(i.Provider,{value:n},e)})};function C(o,r){var e=u.useRef();return(!e.current||!g(r,e.current.key))&&(e.current={key:r,value:o()}),e.current.value}function q(o,r,e){e===void 0&&(e=!1);var i=u.useContext(d()),n=u.useReducer(function(x){return x+1},0),p=n[0],l=n[1],f=r?c(c({},r),{query:o}):{query:o},a=u.useRef(),t=a.current||new k({options:f,context:i,onNewData:function(){t.ssrInitiated()?l():Promise.resolve().then(l)}});t.setOptions(f),t.context=i,t.ssrInitiated()&&!a.current&&(a.current=t);var v={options:c(c({},f),{onError:void 0,onCompleted:void 0}),context:i,tick:p},m=C(function(){return e?t.executeLazy():t.execute()},v),s=e?m[1]:m;return u.useEffect(function(){return a.current||(a.current=t),function(){return t.cleanup()}},[]),u.useEffect(function(){return t.afterExecute({lazy:e})},[s.loading,s.networkStatus,s.error,s.data]),m}function A(o,r){return q(o,r,!1)}export{y as ApolloProvider,A as useQuery};
