import{r as c}from"./common/index-927aee77.js";import"./common/index-c1e30e03.js";import{c as U}from"./common/_commonjsHelpers-0597c316.js";import{r as V}from"./common/index-d570f101.js";var l=c.createContext(null);function H(e){e()}var A=H,O=function(r){return A=r},q=function(){return A},F={notify:function(){}};function Y(){var e=q(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var n=r;n;)n.callback(),n=n.next})},get:function(){for(var n=[],a=r;a;)n.push(a),a=a.next;return n},subscribe:function(n){var a=!0,o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!a||r===null||(a=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var N=function(){function e(t,u){this.store=t,this.parentSub=u,this.unsubscribe=null,this.listeners=F,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var r=e.prototype;return r.addNestedSub=function(u){return this.trySubscribe(),this.listeners.subscribe(u)},r.notifyNestedSubs=function(){this.listeners.notify()},r.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},r.isSubscribed=function(){return Boolean(this.unsubscribe)},r.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=Y())},r.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=F)},e}();function G(e){var r=e.store,t=e.context,u=e.children,n=c.useMemo(function(){var i=new N(r);return i.onStateChange=i.notifyNestedSubs,{store:r,subscription:i}},[r]),a=c.useMemo(function(){return r.getState()},[r]);c.useEffect(function(){var i=n.subscription;return i.trySubscribe(),a!==r.getState()&&i.notifyNestedSubs(),function(){i.tryUnsubscribe(),i.onStateChange=null}},[n,a]);var o=t||l;return c.createElement(o.Provider,{value:n},u)}/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=typeof Symbol=="function"&&Symbol.for,E=s?Symbol.for("react.element"):60103,P=s?Symbol.for("react.portal"):60106,y=s?Symbol.for("react.fragment"):60107,m=s?Symbol.for("react.strict_mode"):60108,S=s?Symbol.for("react.profiler"):60114,h=s?Symbol.for("react.provider"):60109,C=s?Symbol.for("react.context"):60110,_=s?Symbol.for("react.async_mode"):60111,x=s?Symbol.for("react.concurrent_mode"):60111,$=s?Symbol.for("react.forward_ref"):60112,g=s?Symbol.for("react.suspense"):60113,J=s?Symbol.for("react.suspense_list"):60120,M=s?Symbol.for("react.memo"):60115,R=s?Symbol.for("react.lazy"):60116,K=s?Symbol.for("react.block"):60121,Q=s?Symbol.for("react.fundamental"):60117,X=s?Symbol.for("react.responder"):60118,Z=s?Symbol.for("react.scope"):60119;function f(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case E:switch(e=e.type,e){case _:case x:case y:case S:case m:case g:return e;default:switch(e=e&&e.$$typeof,e){case C:case $:case R:case M:case h:return e;default:return r}}case P:return r}}}function j(e){return f(e)===x}var ee=_,re=x,te=C,ne=h,oe=E,ue=$,se=y,ie=R,ce=M,ae=P,fe=S,le=m,pe=g,de=function(e){return j(e)||f(e)===_},be=j,ve=function(e){return f(e)===C},ye=function(e){return f(e)===h},me=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===E},Se=function(e){return f(e)===$},he=function(e){return f(e)===y},Ce=function(e){return f(e)===R},xe=function(e){return f(e)===M},$e=function(e){return f(e)===P},ge=function(e){return f(e)===S},Me=function(e){return f(e)===m},Re=function(e){return f(e)===g},we=function(e){return typeof e=="string"||typeof e=="function"||e===y||e===x||e===S||e===m||e===g||e===J||typeof e=="object"&&e!==null&&(e.$$typeof===R||e.$$typeof===M||e.$$typeof===h||e.$$typeof===C||e.$$typeof===$||e.$$typeof===Q||e.$$typeof===X||e.$$typeof===Z||e.$$typeof===K)},Ee=f,Pe={AsyncMode:ee,ConcurrentMode:re,ContextConsumer:te,ContextProvider:ne,Element:oe,ForwardRef:ue,Fragment:se,Lazy:ie,Memo:ce,Portal:ae,Profiler:fe,StrictMode:le,Suspense:pe,isAsyncMode:de,isConcurrentMode:be,isContextConsumer:ve,isContextProvider:ye,isElement:me,isForwardRef:Se,isFragment:he,isLazy:Ce,isMemo:xe,isPortal:$e,isProfiler:ge,isStrictMode:Me,isSuspense:Re,isValidElementType:we,typeOf:Ee},L=U(function(e){e.exports=Pe}),_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Te={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W={};W[L.ForwardRef]=_e,W[L.Memo]=Te;var z=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?c.useLayoutEffect:c.useEffect;function B(){var e=c.useContext(l);return e}function D(e){e===void 0&&(e=l);var r=e===l?B:function(){return c.useContext(e)};return function(){var u=r(),n=u.store;return n}}var ke=D();function Ae(e){e===void 0&&(e=l);var r=e===l?ke:D(e);return function(){var u=r();return u.dispatch}}var Fe=Ae(),Ne=function(r,t){return r===t};function je(e,r,t,u){var n=c.useReducer(function(p){return p+1},0),a=n[1],o=c.useMemo(function(){return new N(t,u)},[t,u]),i=c.useRef(),d=c.useRef(),T=c.useRef(),b=c.useRef(),w=t.getState(),v;try{e!==d.current||w!==T.current||i.current?v=e(w):v=b.current}catch(p){throw i.current&&(p.message+=`
The error may be correlated with this previous error:
`+i.current.stack+`

`),p}return z(function(){d.current=e,T.current=w,b.current=v,i.current=void 0}),z(function(){function p(){try{var k=d.current(t.getState());if(r(k,b.current))return;b.current=k}catch(I){i.current=I}a()}return o.onStateChange=p,o.trySubscribe(),p(),function(){return o.tryUnsubscribe()}},[t,o]),v}function Le(e){e===void 0&&(e=l);var r=e===l?B:function(){return c.useContext(e)};return function(u,n){n===void 0&&(n=Ne);var a=r(),o=a.store,i=a.subscription,d=je(u,n,o,i);return c.useDebugValue(d),d}}var We=Le();O(V.unstable_batchedUpdates);export{G as Provider,Fe as useDispatch,We as useSelector};
